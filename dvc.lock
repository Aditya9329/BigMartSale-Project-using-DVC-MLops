schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data_given/bigmartdata.csv
      md5: e0df0a56f3f03c084c828b29aaa0f314
      size: 869537
    - path: src/get_data.py
      md5: 676ee8bf1c5e2ea7417ed53a9efef5a7
      size: 721
    - path: src/load_data.py
      md5: 96b01866d21cb44c9466632b718d84a1
      size: 712
    outs:
    - path: data/raw/bigmartdata.csv
      md5: e07bb6e40d126f0d68cdf963d7287876
      size: 871595
  preprocessing:
    cmd: python src/preprocessing.py --config=params.yaml
    deps:
    - path: data/raw/bigmartdata.csv
      md5: e07bb6e40d126f0d68cdf963d7287876
      size: 871595
    - path: src/get_data.py
      md5: 676ee8bf1c5e2ea7417ed53a9efef5a7
      size: 721
    outs:
    - path: data/processed/processed_bigmartdata.csv
      md5: 521b706464f0dac38298b43b885808d9
      size: 955943
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/processed/processed_bigmartdata.csv
      md5: 521b706464f0dac38298b43b885808d9
      size: 955943
    - path: src/split_data.py
      md5: 5d8090aba520cb7ac4ffedc6e00c24c3
      size: 1103
    outs:
    - path: data/train_test_data/test_bigmartdata.csv
      md5: d15b52a0fb0b86dfc21774300a641725
      size: 191002
    - path: data/train_test_data/train_bigmartdata.csv
      md5: ac3cefd3850fdee552e0446adb033b54
      size: 765150
  train_and evaluate:
    cmd: python src/train_and_evaluate.py --config=params.yaml
    deps:
    - path: data/train_test_data/test_bigmartdata.csv
      md5: d15b52a0fb0b86dfc21774300a641725
      size: 191002
    - path: data/train_test_data/train_bigmartdata.csv
      md5: ac3cefd3850fdee552e0446adb033b54
      size: 765150
    - path: src/train_and_evaluate.py
      md5: 7e2a34c0e59ab0bb7bbc6bfdeabbc9d3
      size: 4963
    params:
      params.yaml:
        estimators.RandomForestRegressor.params.max_depth: 7
        estimators.RandomForestRegressor.params.max_leaf_nodes: None
        estimators.RandomForestRegressor.params.min_impurity_decrease: 0.0
        estimators.RandomForestRegressor.params.n_estimators: 100
        estimators.RandomForestRegressor.params.n_jobs: None
    outs:
    - path: report/params.json
      md5: 9e0945a88ab7772e3706cb0ab4b79f42
      size: 110
    - path: report/scores.json
      md5: d8b16435ff294b3cbfd83a6a2594b467
      size: 67
    - path: saved_models/model.joblib
      md5: bcdb1d48c704103ffb759abef754ef9c
      size: 992225
